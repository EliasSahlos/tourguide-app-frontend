(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8555)}])},5747:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5893),a=n(7294),i=n(7419),s=n(7357),c=n(52),o=n(3321);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=["Athens","Auschwitz","Jakarta","Russia","Thessaloniki","Seoul"],h=function(e){var t=e.searchQuery,n=e.setSearchQuery,a=e.onFormSubmit,s=e.onKeyDown;return(0,r.jsx)("form",{onSubmit:a,children:(0,r.jsx)(c.Z,{onInputChange:function(e){return n(e)},disableClearable:!0,value:t,options:l,renderInput:function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},e,{id:"search-bar",className:"text",onInput:n,onKeyDown:s,value:t,label:"Enter A City Name",variant:"filled",placeholder:"Search...",size:"small",style:{width:600,backgroundColor:"white",borderRadius:"5px",fontFamily:"ubuntu"}}))}})})};function d(e){var t=this,n=(0,a.useState)(""),i=n[0],c=n[1],u=function(n){n.preventDefault(),e.changeWord(i),e.submitForm.call(t,i)};return(0,r.jsx)(s.Z,{children:(0,r.jsx)("div",{className:"search-container searchbar",children:(0,r.jsxs)("div",{style:{alignItems:"center",display:"flex",alignSelf:"center",justifyContent:"center",padding:"20px"},children:[(0,r.jsx)(h,{searchQuery:i,setSearchQuery:function(e){c(e.target.value)},onFormSubmit:u,onKeyDown:function(n){31===n.keyCode&&(e.changeWord(i),e.submitForm.call(t,i))}}),(0,r.jsx)(o.Z,{"data-testid":"search-button",type:"submit",variant:"contained",onClick:u,style:{borderRadius:"8px",height:"49px",backgroundColor:"#0E1822",fontFamily:"ubuntu"},children:"Search City"})]})})})}},8555:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(5893),a=n(7294),i=n(9669),s=n.n(i),c=n(5747),o=n(5152),u=n.n(o),l=n(5450),h=n(9007),d=n(9225),f=n(3946),x=n(4721),g=n(6447),m=n(4386),j=n(2961),b=n(1754),p=n(1664),y=n.n(p);var v=function(e){var t=e.mapInfo,n=e.cityProp,i=e.maxPage,s=e.currentPage,c=e.changeCurrentPage,o=this,u=(0,a.useState)(s),p=u[0],v=u[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"city-name",children:[(0,r.jsx)("h1",{children:n.toUpperCase()}),(0,r.jsx)("hr",{})]}),(0,r.jsx)(g.Z,{alignItems:"center",children:(0,r.jsx)(b.Z,{count:i,onChange:function(e,t){v(t),c.call(o,t)},page:p})}),(0,r.jsxs)(l.Z,{sx:{width:"100%",height:"100%"},children:[(0,r.jsx)(h.Z,{cols:4},"Subheader"),t.content.map((function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("img",{style:{width:"100%",height:"350px"},src:e.thumbnail,alt:"Image Could Not be Load",loading:"lazy"}),(0,r.jsx)(d.Z,{sx:{fontFamily:"Ubuntu"},title:e.title,subtitle:"Views : "+e.views,actionIcon:(0,r.jsxs)(f.Z,{sx:{color:"rgba(255, 255, 255, 0.6)"},"aria-label":"info about ".concat(e.title),children:[(0,r.jsx)(m.Z,{title:"Total Views: "+e.views,placement:"top",arrow:!0,children:(0,r.jsx)(j.Z,{style:{marginRight:"10px"}})}),(0,r.jsx)(y(),{href:"/image/"+e.id,children:(0,r.jsx)(x.Z,{})})]})})]},e.img)})}))]})]})},S=n(8456),w=n(1163);var C=function(){return(0,r.jsx)("h1",{style:{textAlign:"center"},children:"NO RESULTS, SEARCH ANOTHER CITY"})};var P=function(){return(0,r.jsx)("h1",{style:{textAlign:"center"},children:"API CALLING ERROR, PLEASE RELOAD THE PAGE"})};function E(){var e=function(e,t,n){var r="http://localhost:8080/api/v1/images/getByTitle/"+e+"?page="+t+"&size="+n;s().get(r).then((function(e){var t=e.data;return 204===e.status?(b(!0),void N(!1)):0!==t.content.length?(G(t.totalPages-1),d(t.content),g(t),N(!1),I(!0),void _(!0)):void(0===t.content.length&&(b(!0),_(!1),N(!1),I(!1)))})).catch((function(e){E(!0),N(!1)}))},t=(0,a.useState)(""),i=t[0],o=t[1],l=(0,a.useState)([]),h=l[0],d=l[1],f=(0,a.useState)([]),x=f[0],g=f[1],m=(0,a.useState)(!1),j=m[0],b=m[1],p=(0,a.useState)(!1),y=p[0],E=p[1],Z=(0,a.useState)(!1),F=Z[0],N=Z[1],O=(0,a.useState)(!1),A=O[0],I=O[1],k=(0,a.useState)(!1),R=k[0],_=k[1],T=(0,a.useState)(1),L=T[0],D=T[1],z=(0,a.useState)(0),Q=z[0],G=z[1],H=(0,a.useState)(!0),K=H[0],U=H[1],W=(0,w.useRouter)(),q=u()((function(){return Promise.all([n.e(269),n.e(933),n.e(590)]).then(n.bind(n,158))}),{loadableGenerated:{webpack:function(){return[158]}},ssr:!1});return(0,a.useEffect)((function(){var t=W.query.q;"undefined"!==typeof t&&K&&(o(t),N(!0),I(!1),_(!1),E(!1),b(!1),e(t),U(!1))})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{changeWord:function(e){return o(e)},submitForm:function(t){N(!0),_(!1),I(!1),E(!1),b(!1),o(t),e(t,1,8)}}),j&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(C,{})}),y&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(P,{})}),R&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"map-container",children:(0,r.jsx)(q,{mapInfo:h})})}),A&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"city-container",children:(0,r.jsx)(v,{cityProp:i,mapInfo:x,maxPage:Q,currentPage:L,changeCurrentPage:function(t){D(t),_(!1),I(!1),N(!0),E(!1),b(!1),e(i,t,8)}})})}),F&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{textAlign:"center"},children:[(0,r.jsx)("span",{children:"Loading..."}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(S.Z,{})]})})]})}}},function(e){e.O(0,[466,355,664,453,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);